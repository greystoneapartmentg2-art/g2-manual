<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Greystone G2 Guest Manual</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <!-- ========= STYLES ========= -->
  <style>
    :root {
      --primary: #0b7a3b;
      --primary-dark: #064223;
      --secondary: #0f4c81;
      --bg: #f3f5f7;
      --text: #111827;
      --muted: #6b7280;
      --radius-lg: 22px;
      --radius-md: 18px;
      --shadow-soft: 0 18px 45px rgba(15, 23, 42, 0.15);
      --shadow-subtle: 0 8px 20px rgba(15, 23, 42, 0.12);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    body {
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
        "Segoe UI", sans-serif;
      background: radial-gradient(circle at top left, #f7fff9, #e5ebf1);
      color: var(--text);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: stretch;
      padding: 22px;
    }

    .shell {
      width: 100%;
      max-width: 1180px;
      border-radius: 32px;
      background: linear-gradient(135deg, #ffffff, #f5faf7);
      box-shadow: var(--shadow-soft);
      overflow: hidden;
      display: grid;
      grid-template-columns: minmax(0, 1.05fr) minmax(0, 2fr);
      min-height: 560px;
    }

    /* LEFT COLUMN (brand + quick info) */

    .left {
      background: radial-gradient(
          circle at top left,
          rgba(11, 122, 59, 0.25),
          transparent 55%
        ),
        linear-gradient(155deg, var(--primary-dark), #05140c);
      color: #f9fafb;
      padding: 26px 24px 22px;
      display: flex;
      flex-direction: column;
      gap: 18px;
    }

    .brand-row {
      display: flex;
      align-items: center;
      gap: 14px;
    }

    .brand-logo {
      width: 52px;
      height: 52px;
      border-radius: 18px;
      background: rgba(255, 255, 255, 0.12);
      box-shadow: 0 10px 24px rgba(0, 0, 0, 0.35);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
    }

    .brand-logo img {
      width: 100%;
      height: 100%;
      object-fit: contain;
    }

    .brand-text h1 {
      font-size: 19px;
      letter-spacing: 0.12em;
      text-transform: uppercase;
    }

    .brand-text p {
      font-size: 13px;
      opacity: 0.75;
      margin-top: 2px;
    }

    .tagline {
      margin-top: 4px;
      font-size: 12px;
      opacity: 0.85;
    }

    .pill-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-top: 8px;
    }

    .pill {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      background: rgba(15, 23, 42, 0.45);
      border: 1px solid rgba(249, 250, 251, 0.16);
      display: inline-flex;
      align-items: center;
      gap: 6px;
    }

    .pill span.icon {
      font-size: 13px;
    }

    .left-card {
      background: rgba(15, 23, 42, 0.55);
      border-radius: var(--radius-md);
      padding: 14px 14px 12px;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.45);
      font-size: 13px;
      line-height: 1.55;
    }

    .left-card h2 {
      font-size: 14px;
      margin-bottom: 4px;
    }

    .grid-2 {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 6px 14px;
      font-size: 12px;
      margin-top: 8px;
    }

    .label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      opacity: 0.78;
    }

    .value {
      font-weight: 500;
      margin-top: 1px;
    }

    .address {
      margin-top: 6px;
      font-size: 12px;
    }

    .divider {
      height: 1px;
      width: 100%;
      background: linear-gradient(
        to right,
        transparent,
        rgba(209, 213, 219, 0.6),
        transparent
      );
      margin: 8px 0;
    }

    .contact-block {
      margin-top: 4px;
    }

    .contact-row {
      display: flex;
      justify-content: space-between;
      gap: 10px;
      align-items: center;
      margin-top: 4px;
      font-size: 13px;
    }

    .contact-row strong {
      font-weight: 600;
    }

    .contact-actions {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
    }

    .btn-ghost {
      border-radius: 999px;
      border: 1px solid rgba(249, 250, 251, 0.7);
      padding: 4px 9px;
      font-size: 11px;
      text-decoration: none;
      color: #f9fafb;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      background: rgba(15, 23, 42, 0.62);
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.45);
    }

    .btn-ghost:hover {
      background: rgba(15, 23, 42, 0.85);
    }

    .emergency {
      margin-top: 8px;
      font-size: 12px;
      opacity: 0.9;
    }

    .emergency span {
      font-weight: 600;
    }

    .left-footer {
      margin-top: auto;
      font-size: 11px;
      opacity: 0.7;
    }

    /* RIGHT COLUMN (tabs + content) */

    .right {
      padding: 22px 24px 20px;
      background: radial-gradient(
          circle at top right,
          rgba(15, 76, 129, 0.1),
          transparent 60%
        ),
        var(--bg);
      display: flex;
      flex-direction: column;
      gap: 16px;
    }

    .right-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .page-title {
      font-size: 18px;
      font-weight: 600;
      letter-spacing: 0.04em;
    }

    .page-sub {
      font-size: 12px;
      color: var(--muted);
    }

    .search-wrap {
      display: flex;
      align-items: center;
      gap: 10px;
      flex-wrap: wrap;
    }

    .search-box {
      position: relative;
      flex: 1 1 200px;
    }

    .search-box input {
      width: 100%;
      padding: 9px 34px;
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.08);
      font-size: 13px;
      outline: none;
      background: #ffffff;
      box-shadow: 0 5px 15px rgba(15, 23, 42, 0.07);
    }

    .search-box::before {
      content: "üîç";
      position: absolute;
      left: 10px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 14px;
      opacity: 0.7;
    }

    .badge-soft {
      font-size: 11px;
      padding: 5px 9px;
      border-radius: 999px;
      background: #e0f2f1;
      color: var(--primary-dark);
      border: 1px solid rgba(11, 122, 59, 0.3);
      white-space: nowrap;
    }

    .tab-row {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
    }

    .tab-btn {
      padding: 7px 12px;
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.1);
      background: #ffffff;
      font-size: 13px;
      display: inline-flex;
      align-items: center;
      gap: 6px;
      cursor: pointer;
      transition: 0.13s ease;
      box-shadow: 0 4px 11px rgba(15, 23, 42, 0.06);
    }

    .tab-btn span.icon {
      font-size: 15px;
    }

    .tab-btn.active {
      background: linear-gradient(135deg, var(--primary), #199264);
      color: #f9fafb;
      border-color: transparent;
      box-shadow: 0 10px 22px rgba(11, 122, 59, 0.55);
      transform: translateY(-1px);
    }

    .tab-btn:hover {
      transform: translateY(-1px);
      box-shadow: 0 8px 18px rgba(15, 23, 42, 0.16);
    }

    .cards-area {
      flex: 1;
      display: grid;
      grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.6fr);
      gap: 14px;
      margin-top: 2px;
      min-height: 340px;
    }

    .panel {
      background: #ffffff;
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow-subtle);
      padding: 14px 15px 14px;
      display: flex;
      flex-direction: column;
      gap: 10px;
    }

    .panel-header {
      display: flex;
      justify-content: space-between;
      align-items: baseline;
      gap: 10px;
    }

    .panel-title {
      font-size: 15px;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .panel-sub {
      font-size: 11px;
      color: var(--muted);
    }

    .pill-small {
      font-size: 11px;
      padding: 3px 8px;
      border-radius: 999px;
      background: #eef2ff;
      color: #4338ca;
      white-space: nowrap;
    }

    .panel-body {
      font-size: 13px;
      line-height: 1.6;
      color: #111827;
      max-height: 280px;
      overflow-y: auto;
      padding-right: 4px;
    }

    .panel-body::-webkit-scrollbar {
      width: 5px;
    }

    .panel-body::-webkit-scrollbar-thumb {
      background: rgba(148, 163, 184, 0.8);
      border-radius: 999px;
    }

    .panel-footer {
      font-size: 11px;
      color: var(--muted);
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }

    .two-col-list {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 8px 14px;
      margin-top: 6px;
    }

    .bullet-title {
      font-weight: 600;
      margin-bottom: 2px;
    }

    .two-col-list p {
      font-size: 12px;
      color: var(--muted);
    }

    .wifi-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 8px;
      margin-top: 6px;
    }

    .wifi-card {
      border-radius: 14px;
      border: 1px dashed rgba(11, 122, 59, 0.6);
      background: #f2fbf7;
      padding: 8px 10px;
      font-size: 12px;
    }

    .wifi-label {
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.16em;
      color: var(--muted);
      margin-bottom: 3px;
    }

    .wifi-value code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas,
        "Liberation Mono", "Courier New", monospace;
      font-size: 12px;
      background: rgba(11, 122, 59, 0.08);
      padding: 2px 5px;
      border-radius: 6px;
    }

    .btn-copy {
      border: none;
      border-radius: 999px;
      padding: 3px 8px;
      font-size: 11px;
      margin-left: 6px;
      cursor: pointer;
      background: var(--primary);
      color: #f9fafb;
    }

    .list {
      margin-top: 4px;
      padding-left: 16px;
    }

    .list li {
      margin-bottom: 3px;
    }

    /* MAP PANEL */

    .map-type-row {
      display: flex;
      gap: 6px;
      flex-wrap: wrap;
      margin-bottom: 6px;
      margin-top: 4px;
    }

    .map-pill {
      font-size: 11px;
      padding: 4px 9px;
      border-radius: 999px;
      border: 1px solid rgba(15, 23, 42, 0.12);
      background: #f9fafb;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 5px;
    }

    .map-pill.active {
      background: #0f4c81;
      color: #f9fafb;
      border-color: transparent;
    }

    .map-frame {
      width: 100%;
      border-radius: 16px;
      border: none;
      min-height: 245px;
      box-shadow: 0 10px 26px rgba(15, 23, 42, 0.3);
    }

    .map-note {
      font-size: 11px;
      color: var(--muted);
      margin-top: 4px;
    }

    /* RESPONSIVE */

    @media (max-width: 950px) {
      .shell {
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.4fr);
      }
    }

    @media (max-width: 820px) {
      body {
        padding: 12px;
      }
      .shell {
        grid-template-columns: 1fr;
        border-radius: 26px;
      }
      .left {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
      }
      .cards-area {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 520px) {
      .right {
        padding: 16px 14px 14px;
      }
      .tab-row {
        overflow-x: auto;
        padding-bottom: 4px;
      }
      .tab-row::-webkit-scrollbar {
        height: 4px;
      }
      .panel-body {
        max-height: 260px;
      }
    }
  </style>
</head>
<body>
  <div class="app">
    <!-- LEFT SIDE -->
    <aside class="sidebar">
      <div class="brand">
        <div class="brand-logo">G2</div>
        <div class="brand-text">
          <h1>GREYSTONE G2</h1>
          <p>Guest Experience Portal</p>
          <p class="tagline">6B Ogalade Close, Victoria Island, Lagos</p>
        </div>
      </header>

      <div class="pill-row">
        <span class="pill"><span class="icon">‚≠ê</span> Premium serviced apartment</span>
        <span class="pill"><span class="icon">üì±</span> Mobile-friendly digital guide</span>
        <span class="pill"><span class="icon">üì∂</span> High-speed Wi-Fi</span>
      </div>

      <article class="left-card">
        <h2>Stay details</h2>
        <div class="grid-2">
          <div>
            <div class="label">Check-in</div>
            <div class="value">2:00 PM</div>
          </div>
          <div>
            <div class="label">Check-out</div>
            <div class="value">11:00 AM</div>
          </div>
          <div>
            <div class="label">Guests</div>
            <div class="value">Up to 2 adults + 1 child</div>
          </div>
          <div>
            <div class="label">Parking</div>
            <div class="value">Reserved bay G2</div>
          </div>
        </div>

        <div class="address">
          <span class="label">Property address</span><br />
          Greystone G2 Apartment, 6B Ogalade Close, Victoria Island, Lagos.
        </div>

        <div class="divider"></div>

        <div class="contact-block">
          <div class="label">Your host</div>
          <div class="contact-row">
            <strong>Blessing Emmanuel</strong>
            <div class="contact-actions">
              <a class="btn-ghost" href="tel:+2348000000000">üìû Call</a>
              <a
                class="btn-ghost"
                href="https://wa.me/2348000000000?text=Hi%20Blessing,%20I'm%20a%20guest%20at%20Greystone%20G2."
                target="_blank"
                rel="noopener noreferrer"
              >
                üí¨ WhatsApp
              </a>
            </div>
          </div>
        </div>

        <p class="emergency">
          For emergencies in Nigeria, dial <span>112</span>.  
          Security post at the gate is staffed 24/7.
        </p>
      </article>

      <footer class="left-footer">
        Designed for a smooth, contact-light check-in and a comfortable stay.
      </footer>
    </section>

    <!-- RIGHT SIDE -->
    <section class="right">
      <header class="right-header">
        <div>
          <div class="page-title">Guest Manual</div>
          <div class="page-sub">
            All the essentials for Greystone G2 ‚Äî from Wi-Fi to city tips.
          </div>
        </div>
        <div class="search-wrap">
          <div class="search-box">
            <input
              id="searchInput"
              type="text"
              placeholder="Search: wifi, rules, check-out, AC, restaurants..."
            />
          </div>
          <span class="badge-soft">Tap a section or type to filter</span>
        </div>
      </header>

      <!-- MAIN TABS -->
      <nav class="tab-row" id="mainTabs">
        <!-- filled by JS -->
      </nav>

      <!-- CONTENT + MAP -->
      <div class="cards-area">
        <!-- LEFT: text content -->
        <article class="panel">
          <header class="panel-header">
            <div class="panel-title">
              <span id="panelIcon">üëã</span>
              <span id="panelTitle">Welcome & Overview</span>
            </div>
            <span class="pill-small" id="panelTag">Start here</span>
          </header>
          <div class="panel-body" id="panelBody">
            <!-- injected -->
          </div>
          <footer class="panel-footer">
            <span id="panelUpdated">Last updated: ‚Äî</span>
            <span>Greystone G2 ¬∑ Victoria Island</span>
          </footer>
        </article>

        <!-- RIGHT: Google map & nearby recommendations -->
        <article class="panel">
          <header class="panel-header">
            <div class="panel-title">
              <span>üó∫Ô∏è</span>
              <span>Nearby recommendations</span>
            </div>
            <span class="pill-small">Powered by Google Maps</span>
          </header>

          <div class="panel-body" style="max-height:none;">
            <div class="map-type-row" id="mapTabs">
              <button class="map-pill active" data-type="food">
                üçΩÔ∏è Food
              </button>
              <button class="map-pill" data-type="bars">
                üç∏ Bars & Lounge
              </button>
              <button class="map-pill" data-type="activities">
                üé° Activities & Sightseeing
              </button>
              <button class="map-pill" data-type="travel">
                ‚úàÔ∏è Travel agencies
              </button>
            </div>

            <!-- Simple free Google Maps embed that swaps search queries -->
            <iframe
              id="mapFrame"
              class="map-frame"
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
              src=""
            ></iframe>

            <p class="map-note">
              Tip: tap a category above to explore places close to
              <b>6B Ogalade Close, Victoria Island, Lagos</b>. You can zoom,
              open directions, or view details directly in Google Maps.
            </p>
          </div>
        </article>
      </div>
    </section>
  </div>

  <!-- ========= DATA + LOGIC ========= -->
  <script>
    // --- DATA MODEL (similar to GuestBit configuration) ---

    const SECTIONS = [
      {
        id: "welcome",
        title: "Welcome & Overview",
        tag: "Start here",
        icon: "üëã",
        updated: "2025-10-20",
        keywords: "welcome overview intro apartment greystone g2 villa",
        html: `
          <p>
            Welcome to <b>Greystone G2 Apartment</b>, your modern base in the
            heart of Victoria Island. This digital manual gives you quick access
            to everything you might need during your stay.
          </p>
          <ul class="list">
            <li>Self check-in with smart lock ‚Äî details in the Check-in section.</li>
            <li>Premium queen bed, fast Wi-Fi and inverter backup for essentials.</li>
            <li>Walking distance to cafes, lounges and business hubs.</li>
          </ul>
          <div class="two-col-list">
            <div>
              <div class="bullet-title">Ideal for</div>
              <p>Business travel, couples, short city breaks.</p>
            </div>
            <div>
              <div class="bullet-title">Neighbourhood vibe</div>
              <p>Safe, central, upscale and close to the ocean.</p>
            </div>
          </div>
        `,
      },
      {
        id: "aptInfo",
        title: "Apartment information",
        tag: "Space & amenities",
        icon: "üè°",
        updated: "2025-10-20",
        keywords: "apartment info amenities layout bedroom living kitchen balcony",
        html: `
          <p>
            Greystone G2 is a fully serviced one-bedroom apartment with a bright
            living room, work-friendly desk and a cosy bedroom.
          </p>
          <div class="two-col-list">
            <div>
              <div class="bullet-title">Living room</div>
              <p>Smart TV with streaming apps, comfortable sofa, reading lamp.</p>
            </div>
            <div>
              <div class="bullet-title">Bedroom</div>
              <p>Queen bed, blackout curtains, AC, wardrobe with hangers.</p>
            </div>
            <div>
              <div class="bullet-title">Kitchen</div>
              <p>Fridge, microwave, cooker, kettle, basic cookware and dishes.</p>
            </div>
            <div>
              <div class="bullet-title">Extras</div>
              <p>Iron & board, laundry machine, complimentary water & tea.</p>
            </div>
          </div>
        `,
      },
      {
        id: "wifi",
        title: "Wi-Fi & internet",
        tag: "Stay connected",
        icon: "üì∂",
        updated: "2025-10-20",
        keywords: "wifi internet password network",
        html: `
          <p>Unlimited fibre internet is available throughout the apartment.</p>
          <div class="wifi-grid">
            <div class="wifi-card">
              <div class="wifi-label">Wi-Fi name (SSID)</div>
              <div class="wifi-value">
                <code id="wifiName">Greystone_G2_5G</code>
                <button class="btn-copy" data-copy-target="wifiName">Copy</button>
              </div>
            </div>
            <div class="wifi-card">
              <div class="wifi-label">Password</div>
              <div class="wifi-value">
                <code id="wifiPassword">StayAtG2@2025</code>
                <button class="btn-copy" data-copy-target="wifiPassword">Copy</button>
              </div>
            </div>
          </div>
          <ul class="list">
            <li>Best speed near the living room and workspace desk.</li>
            <li>Please avoid heavy downloads during video calls where possible.</li>
          </ul>
        `,
      },
      {
        id: "houseRules",
        title: "House rules",
        tag: "Please read",
        icon: "üìú",
        updated: "2025-10-20",
        keywords: "rules smoking visitors noise quiet hours",
        html: `
          <ul class="list">
            <li><b>No smoking</b> inside. You may use the balcony with the door closed.</li>
            <li>No parties or events ‚Äî this is a quiet residential building.</li>
            <li>Quiet hours: <b>10:00 PM ‚Äì 7:00 AM</b>.</li>
            <li>Only registered guests may stay overnight.</li>
            <li>Please report any damage immediately so we can repair quickly.</li>
          </ul>
        `,
      },
      {
        id: "checkin",
        title: "Check-in instructions",
        tag: "Arrival",
        icon: "üîë",
        updated: "2025-10-20",
        keywords: "check in arrival code gate smart lock security",
        html: `
          <ol class="list">
            <li>Arrive at <b>6B Ogalade Close, Victoria Island</b> and tell security you're staying in <b>Greystone G2</b>.</li>
            <li>At the apartment door, enter the smart-lock code: <b>2859 ‚úî</b>.</li>
            <li>Once inside, the physical keys are on the wall hook by the entrance.</li>
            <li>Wi-Fi and AC remotes are placed on the TV console & bedside table.</li>
          </ol>
          <p>
            If you have any trouble with the lock or location, contact the host
            via call or WhatsApp from the left panel.
          </p>
        `,
      },
      {
        id: "checkout",
        title: "Check-out instructions",
        tag: "Departure",
        icon: "üß≥",
        updated: "2025-10-20",
        keywords: "check out departure leaving cleaning key",
        html: `
          <ol class="list">
            <li>Check-out time is <b>11:00 AM</b> unless we confirmed a late check-out.</li>
            <li>Kindly wash dishes or start a short dishwasher cycle if provided.</li>
            <li>Place used towels in the laundry basket.</li>
            <li>Switch off ACs, lights, TV and water heater.</li>
            <li>Lock the door and scramble the smart-lock digits.</li>
          </ol>
          <p>
            A quick message when you leave helps us schedule cleaning and
            prepare for the next guest on time.
          </p>
        `,
      },
      {
        id: "appliances",
        title: "Appliances & utilities",
        tag: "How things work",
        icon: "‚öôÔ∏è",
        updated: "2025-10-20",
        keywords: "appliances AC air conditioning heater washing machine power outage",
        html: `
          <ul class="list">
            <li><b>AC units:</b> Use the labelled remotes. For comfort and efficiency, keep between 23‚Äì25¬∞C.</li>
            <li><b>Water heater:</b> Switch is near the bathroom door. Turn off after use.</li>
            <li><b>Washing machine:</b> Quick-wash is usually enough for light loads (30‚Äì40 mins).</li>
            <li><b>Power backup:</b> Inverter keeps lights & Wi-Fi running during short outages.</li>
          </ul>
        `,
      },
      {
        id: "safety",
        title: "Safety & emergency",
        tag: "Important",
        icon: "üö®",
        updated: "2025-10-20",
        keywords: "safety emergency fire police hospital",
        html: `
          <ul class="list">
            <li>Emergency number in Nigeria: <b>112</b>.</li>
            <li>First-aid kit: bathroom cabinet.</li>
            <li>Fire extinguisher: by the kitchen entrance.</li>
            <li>In case of serious issues, move outside, alert security and call emergency services.</li>
          </ul>
        `,
      },
    ];

    const MAP_BASE =
      "https://www.google.com/maps/embed/v1/search?key=YOUR_API_KEY&q=";
    // To avoid forcing an API key, we will instead use public embed URLs with query params:
    const MAP_URLS = {
      food:
        "https://www.google.com/maps/embed?pb=!1m2!1s0x103b8ae63e0-location!2srestaurants%20near%206B%20Ogalade%20Close%20Victoria%20Island%20Lagos",
      bars:
        "https://www.google.com/maps/embed?pb=!1m2!1s0x103b8ae63e0-location!2sbars%20and%20lounges%20near%206B%20Ogalade%20Close%20Victoria%20Island%20Lagos",
      activities:
        "https://www.google.com/maps/embed?pb=!1m2!1s0x103b8ae63e0-location!2sactivities%20and%20sightseeing%20near%20Victoria%20Island%20Lagos",
      travel:
        "https://www.google.com/maps/embed?pb=!1m2!1s0x103b8ae63e0-location!2stravel%20agencies%20near%20Victoria%20Island%20Lagos",
    };

    // If for some reason the above simple URLs don't load well in your region,
    // you can replace each MAP_URLS[...] with any normal iframe URL from Google Maps.

    // --- DOM ELEMENTS ---
    const mainTabs = document.getElementById("mainTabs");
    const panelIcon = document.getElementById("panelIcon");
    const panelTitle = document.getElementById("panelTitle");
    const panelTag = document.getElementById("panelTag");
    const panelBody = document.getElementById("panelBody");
    const panelUpdated = document.getElementById("panelUpdated");
    const searchInput = document.getElementById("searchInput");
    const mapTabs = document.getElementById("mapTabs");
    const mapFrame = document.getElementById("mapFrame");

    let activeSectionId = "welcome";

    // --- RENDER MAIN TABS ---
    function renderMainTabs() {
      mainTabs.innerHTML = "";
      SECTIONS.forEach((section) => {
        const btn = document.createElement("button");
        btn.className =
          "tab-btn" + (section.id === activeSectionId ? " active" : "");
        btn.dataset.id = section.id;
        btn.innerHTML = `
          <span class="icon">${section.icon}</span>
          <span>${section.title}</span>
        `;
        btn.addEventListener("click", () => {
          activeSectionId = section.id;
          searchInput.value = "";
          renderMainTabs();
          renderActiveSection();
        });
        mainTabs.appendChild(btn);
      });
    }

    // --- RENDER ACTIVE SECTION (with optional search filter) ---
    function renderActiveSection() {
      const query = searchInput.value.trim().toLowerCase();
      let section = SECTIONS.find((s) => s.id === activeSectionId);
      if (!section) section = SECTIONS[0];

      // search across all sections
      if (query) {
        const filtered = SECTIONS.filter((s) => {
          const text =
            (s.title + " " + s.tag + " " + s.keywords + " " + s.html)
              .replace(/<[^>]+>/g, " ")
              .toLowerCase();
          return text.includes(query);
        });
        if (filtered.length) section = filtered[0];
      }

      panelIcon.textContent = section.icon;
      panelTitle.textContent = section.title;
      panelTag.textContent = section.tag;
      panelBody.innerHTML = section.html;
      panelUpdated.textContent = "Last updated: " + section.updated;

      attachCopyButtons();
    }

    // --- WIFI COPY BUTTONS ---
    function attachCopyButtons() {
      document.querySelectorAll(".btn-copy").forEach((btn) => {
        btn.addEventListener("click", () => {
          const id = btn.dataset.copyTarget;
          const el = document.getElementById(id);
          if (!el) return;
          const text = el.textContent.trim();
          navigator.clipboard
            .writeText(text)
            .then(() => {
              const original = btn.textContent;
              btn.textContent = "Copied!";
              setTimeout(() => (btn.textContent = original), 1200);
            })
            .catch(() => alert("Copy failed. Please copy manually: " + text));
        });
      });
    }

    // --- SEARCH HANDLER ---
    searchInput.addEventListener("input", () => {
      renderActiveSection();
    });

    // --- MAP LOGIC ---
    function setMapType(type) {
      document.querySelectorAll(".map-pill").forEach((pill) => {
        pill.classList.toggle("active", pill.dataset.type === type);
      });
      const url = MAP_URLS[type] || MAP_URLS.food;
      mapFrame.src = url;
    }

    mapTabs.querySelectorAll(".map-pill").forEach((pill) => {
      pill.addEventListener("click", () => {
        setMapType(pill.dataset.type);
      });
    });

    // --- INITIALISE ---
    renderMainTabs();
    renderActiveSection();
    setMapType("food");
  </script>
</body>
</html>
